
# `prompt_toolkit_menu.py`

## Описание проекта

`prompt_toolkit_menu.py` — это интерактивное консольное меню на базе библиотеки `prompt_toolkit`, предназначенное для работы с файлами. Скрипт позволяет пользователю:

- Разбивать большие файлы на части с заданным размером и кодированием.
- Восстанавливать файлы из разрезанных частей с использованием JSON-файлов метаданных.
  
Основной функционал строится вокруг взаимодействия с двумя скриптами — `separator-silence.py` для разрезания и `merge_parts-silence.py` для восстановления. Эти скрипты работают в фоновом режиме без вывода в консоль, а `prompt_toolkit_menu.py` предоставляет удобный интерфейс для их использования.

---
## Использование

### Запуск скрипта

Для запуска программы выполните следующую команду:

```bash
python3 prompt_toolkit_menu.py
```

### Пример работы программы

При запуске скрипта откроется главное меню:

```
Главное меню:
1. Разбить файл на части
2. Восстановить файл из частей
3. Выход
```

Используйте стрелки для выбора действия и нажмите Enter для подтверждения. После выбора действия вам будет предложено ввести параметры.

---

## Функции программы

### 1. Разбить файл на части

Выберите пункт `Разбить файл на части`. Далее вам будет предложено:

- Ввести путь к файлу, который нужно разрезать.
- Выбрать размер куска (по умолчанию 200 КБ).
- Указать тип кодирования (hex, base64, base85).

Пример команды для разрезания файла:

```bash
python3 separator-silence.py --input 'input/yourfile.mp4' --output output/ --chunk-size 200 --encoding base64
```

После завершения разрезания части файла сохранятся в папке `output/`.

### 2. Восстановить файл из частей

Выберите пункт `Восстановить файл из частей`. Далее вам будет предложено:

- Ввести путь к JSON-файлу с метаданными.
- Ввести путь к директории, в которую будет сохранен восстановленный файл.

Пример команды для восстановления файла:

```bash
python3 merge_parts-silence.py --metadata 'output/json/metadata.json' --output 'output_merged/'
```

---

## Библиотеки и зависимости

Проект использует следующие библиотеки:

- **`prompt_toolkit`** — Для создания интерактивного меню в командной строке с поддержкой автодополнения и управления вводом.
- **`subprocess`** — Для запуска внешних скриптов (`separator-silence.py` и `merge_parts-silence.py`), которые выполняют основную работу с файлами.
- **`logging`** — Для ведения логов всех действий пользователя и результатов выполнения скриптов. Логи сохраняются в файл `logs/prompt_toolkit_menu.log`.

### Файлы проекта:

- **`prompt_toolkit_menu.py`** — Главный скрипт с интерфейсом меню.
- **`separator-silence.py`** — Скрипт для разрезания файлов на части.
- **`merge_parts-silence.py`** — Скрипт для восстановления файлов из частей.
- **`logs/prompt_toolkit_menu.log`** — Лог-файл с записями о работе скриптов.

---

## Примеры использования

### 1. Разбить файл на части

```bash
python3 prompt_toolkit_menu.py
```
Затем выберите пункт "Разбить файл на части" и следуйте указаниям.

### 2. Восстановить файл из частей

```bash
python3 prompt_toolkit_menu.py
```
Затем выберите пункт "Восстановить файл из частей" и следуйте указаниям.

---

## Полезность программы

`prompt_toolkit_menu.py` упрощает процесс работы с большими файлами, предоставляя пользователю простой и интуитивно понятный интерфейс для разрезания и восстановления файлов. Программа полезна, если вы работаете с большими объемами данных, которые нужно разбить на части для передачи, хранения или обработки, а затем собрать обратно.

---

## Лицензия

Проект распространяется под лицензией MIT.
