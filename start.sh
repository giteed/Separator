#!/bin/bash

# Путь: pySeparator/start.sh
# Описание: Скрипт для активации виртуального окружения и запуска separator.py. Если аргументы не переданы, выводится справка.

# Проверка наличия виртуального окружения
if [[ ! -d venv ]]; then
    echo "Ошибка: Виртуальное окружение не найдено. Запустите сначала setup_and_help.sh для его создания."
    exit 1
fi

# Активация виртуального окружения
echo "Активация виртуального окружения..."
source venv/bin/activate

# Проверка наличия separator.py
if [[ ! -f separator.py ]]; then
    echo "Ошибка: файл separator.py не найден. Убедитесь, что скрипт находится в текущей директории."
    exit 1
fi

# Если переданы аргументы, запускаем separator.py с ними
if [[ $# -gt 0 ]]; then
    echo "Запуск separator.py с аргументами: $@"
    python3 separator.py "$@"
else
    # Если аргументы не переданы, выводим справку и выходим
    echo "Аргументы не переданы. Вывод справки:"
    python3 separator.py --help
fi

# Оставляем виртуальное окружение активированным
$SHELL
